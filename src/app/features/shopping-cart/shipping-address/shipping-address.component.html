<section class="shipping-address-container">
  <div *ngIf="displayAddNewAddress" class="new-address">
    <button type="button" class="btn btn-default" (click)="addAddress(false)" aria-label="Left Align">
      <i class="fak fa-2x fa-new-address primary-text-color"></i>
      <span class="ms-2">Add Address</span>
    </button>
  </div>
  
    <div class="d-flex row g-4" [formGroup]="formGroup">
        <div formArrayName="address" *ngFor="let item of address.value; let j =index" class="col-lg-4 col-12">
            <div [formGroupName]="j">
                <div class="card-container address-card-container" [ngClass]="{'notValid':item.isValid}">
                    <div class="body">
                        <div class="row">
                            <div class="col-lg-12 mt-1 mb-1 d-flex justify-content-between align-items-center">
                                <label class="checkbox-wrapper checkbox-circle-wrapper">
                                    <span *ngIf="item.HCPFullName">
                                        {{item.HCPFullName}}</span><span *ngIf="item.designation">,
                                        {{item.designation}}</span>
                                    <input type="checkbox" type="checkbox"
                                    [disabled]="item.isValid"

                                        (change)="onAddressSelection($event,item?.locationId,item)"
                                        [checked]="item.isChecked">
                                    <span class="checkmark"></span>
                                </label>
                                <div>
                                    <div *ngIf="item.addressStatus?.toLowerCase()==='valid'"
                                        class="col-lg-12 col-12 mb-3">
                                        <div class="valid-address status-container">
                                            <div class="status-label">{{item?.addressStatusMessage}}</div>
                                        </div>
                                    </div>
                                    <div *ngIf="item.addressStatus?.toLowerCase()==='invalid'||!item.addressStatus"
                                        class="col-lg-12 col-12 mb-3">
                                        <div class="invalid-address status-container">
                                            <span class="status-label">{{item?.addressStatusMessage}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="item.addressStatus?.toLowerCase()==='pending'"
                                        class="col-lg-12 col-12 mb-3">
                                        <div class="pending-address status-container">
                                            <span class="status-label">{{item?.addressStatusMessage}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mb-2 d-flex fullAddressColumn">
                                <span class="card-icon">
                                    <i class="fa-light fa-location-dot primary-text-color fa-lg me-2"></i></span>
                                <div class="d-flex flex-column">
                                    <span class="card-value truncate-overflow-2-line " [title]="item?.address1">
                                        {{item.address1?.toLowerCase()}}
                                    </span>
                                    <span *ngIf="item.address2" class="card-value truncate-overflow-2-line "
                                        [title]="item?.address2">
                                        {{item.address2?.toLowerCase()}}
                                    </span>
                                    <span class="card-value truncate-overflow-2-line ">
                                        {{item.city?.toLowerCase()}},
                                        {{item.state?.toUpperCase()}}
                                        {{item.zipCode?.toLowerCase()}}
                                    </span>
                                </div>
                            </div>
                            <div class="col-lg-6 mb-2">
                                <span class="card-label primary-text-color">Tel</span>
                                <span class="card-value"> {{item.phone}}</span>
                            </div>
                            <div class="col-lg-6 mb-2">
                                <span class="card-label primary-text-color">DEA</span>
                                <span class="card-value"> {{item.deaNum}}</span>
                            </div>
                            <div class="col-lg-6 mb-2">
                                <span class="card-label primary-text-color">Fax</span>
                                <span class="card-value"> {{item.fax}}</span>
                            </div>
                            <div class="col-lg-6 mb-2">
                                <span class="card-label primary-text-color">SLN</span>
                                <span class="card-value"> {{item.licenseNumber}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="footer d-flex justify-content-between align-items-center">
                        <div>
                            <span *ngIf="item.isPreferredAddress=='Y'" class="badge preferredAddressBadge">Preferred
                                Address</span>
                        </div>
                        <div class="d-flex justify-space-around my-2 footer-text">
                            <ng-container *ngIf="!isEditUpdateControls">
                                <div *ngIf="(displayEditAddress)"
                                    class="edit-action ms-auto color-primary cursor"
                                    (click)="addEditAddress(true,item)"><i class="fa-light fa-pen me-1"></i>Edit</div>
                                <div *ngIf="(displayDeleteAddress)"
                                    class=" delete-action mx-4 color-secondary cursor"
                                    (click)="deleteStateLicenseOrAddress('address',item,j)"><i
                                        class="fa fa-trash me-1"></i>Delete
                                </div>
                            </ng-container>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- <div class="col-sm-4" *ngIf="displayAddNewAddress">
            <div
                class="card-container address-card-container address-card-add-container d-flex justify-content-center  align-items-center">
                <div class="add-address cursor" (click)="addAddress(false)">
                    <i class="fak fa-2x fa-new-address primary-text-color"></i>
                    <span class="ms-2">Add address</span>
                </div>
            </div>
        </div> -->
    </div>
</section>